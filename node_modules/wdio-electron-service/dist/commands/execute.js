import { CONTEXT_BRIDGE_NOT_AVAILABLE } from '../constants.js';
export async function execute(script, ...args) {
    /**
     * parameter check
     */
    if (typeof script !== 'string' && typeof script !== 'function') {
        throw new Error('Expecting script to be type of "string" or "function"');
    }
    const browser = this.browser;
    if (!browser) {
        throw new Error('WDIO browser is not yet initialised');
    }
    if (typeof script === 'string') {
        return browser.execute(script);
    }
    return browser.execute(function executeWithinElectron(errMessage, script, ...args) {
        if (window.wdioElectron === undefined) {
            throw new Error(errMessage);
        }
        return window.wdioElectron.execute(script, args);
    }, CONTEXT_BRIDGE_NOT_AVAILABLE, `${script}`, ...args);
}
//# sourceMappingURL=execute.js.map